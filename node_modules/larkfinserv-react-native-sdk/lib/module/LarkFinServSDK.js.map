{"version":3,"names":["axios","Linking","getSDKUrl","getSDKApiUrl","DEFAULT_HEADERS","encodeBase64","LarkFinServSDK","eventHandlers","Map","iframeUrl","sessionToken","constructor","config","validateConfig","generateSessionToken","initialize","apiKey","apiSecret","Error","endpoint","environment","phoneNumber","response","get","headers","timeout","data","sessionId","themeConfig","userId","user","id","theme","partnerName","partnerId","currentJourneyStep","stepProgressSummary","hasActiveLoan","loanDetails","requiresEmailVerification","consentData","submitConsentData","generateIframeUrl","error","errorMessage","isAxiosError","status","message","request","console","getIframeUrl","getConfig","openEligibilityCheck","mode","supported","canOpenURL","openURL","emitEvent","on","event","handler","set","off","delete","handleWebViewMessage","JSON","parse","type","createWebViewMessage","stringify","metadata","clearSession","reason","timestamp","Date","toISOString","getSessionInfo","hasSessionId","hasUserId","hasPhoneNumber","now","ttl","baseUrl","params","push","encodeURIComponent","join","eventType","getClientIP","ip","consentPayload","provider","privacyConsent","promotionalConsent","ipAddress","userAgent","deviceFingerprint","post","success","log"],"sourceRoot":"../../src","sources":["LarkFinServSDK.ts"],"mappings":"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","ignoreList":[]}
