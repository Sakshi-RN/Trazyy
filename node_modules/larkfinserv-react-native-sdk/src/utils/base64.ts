/**
 * Base64 encoding utility for React Native
 * Uses the global btoa/atob functions which are available in React Native
 */

/**
 * Encode a string to base64
 * @param str - String to encode
 * @returns Base64 encoded string
 */
export const encodeBase64 = (str: string): string => {
  try {
    // In React Native, we can use btoa which is globally available
    // @ts-ignore - btoa is available in React Native environment
    if (typeof btoa !== 'undefined') {
      // @ts-ignore
      return btoa(str);
    }
    // Fallback: just return the string as-is for environments without btoa
    return str;
  } catch (error) {
    console.warn('Base64 encoding failed, returning original string');
    return str;
  }
};

/**
 * Decode a base64 string
 * @param str - Base64 encoded string
 * @returns Decoded string
 */
export const decodeBase64 = (str: string): string => {
  try {
    // In React Native, we can use atob which is globally available
    // @ts-ignore - atob is available in React Native environment
    if (typeof atob !== 'undefined') {
      // @ts-ignore
      return atob(str);
    }
    // Fallback: just return the string as-is for environments without atob
    return str;
  } catch (error) {
    console.warn('Base64 decoding failed, returning original string');
    return str;
  }
};
